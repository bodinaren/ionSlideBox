angular.module("bodin",[]).directive("ionSlideBox",function(t,e,i){return{priority:2,link:function(o,l,n){for(var r,c=l.find("ion-slide"),a=0;a<c.length;a++){var s=angular.element(c[a]);s.attr("active-slide",0==a),a>0&&s.css("height",t.getScrollView().__clientHeight+"px")}o.$on("slideBox.slideChanged",function(o,l){i.cancel(r);var n=0;angular.forEach(c,function(e){var i=angular.element(e);"true"==i.attr("active-slide")&&i.attr("scroll-pos",t.getScrollPosition().top.toString()),i.attr("data-index")==l?(i.attr("scroll-pos")&&(n=parseFloat(i.attr("scroll-pos"))),i.attr("active-slide","true").css("height","").css("top","")):i.attr("active-slide","false").css("height",t.getScrollView().__clientHeight+"px").css("top",-t.getScrollPosition().top+"px")}),e(function(){t.resize().then(function(){r=i(function(){t.scrollTo(t.getScrollPosition().left,n,!1),t.getScrollPosition().top==n&&i.cancel(r)},10)})})}),o.$on("$destroy",function(){i.cancel(r)})}}});